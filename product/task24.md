# Bug #1 - Status: Done ✅
I am facing a bug where the autogenerate() function is showing completed tasks from recently sourced schedule

# Steps to reproduce:
1. as a signed in user, go to /dashboard for the first time today
2. autogenerate() is called
3. bug: observe completed tasks from recent schedule being shown 

# Expected behaviour:
- autogenerate should filter out completed tasks from recently sourced schedule
- autogenerate should show incomplete google calendar and manual and slack tasks from recent schedule, and tasks recurring on the provided date (today or next day)

# Current Autogenerate response:
{"created":true,"date":"2025-08-15","existed":false,"metadata":{"calendarEvents":1,"generatedAt":"2025-08-15T02:01:47.645588+00:00","lastModified":"2025-08-15T02:01:47.645604+00:00","recurringTasks":6,"source":"manual","totalTasks":10},"schedule":[{"categories":[],"completed":false,"end_time":"10:20","from_gcal":true,"gcal_event_id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"10:00","text":"Interview at Driva","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"ea224912-5dec-4694-a830-c33bb123645f","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":1,"start_date":"2025-08-13","start_time":"","text":"gym","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"71a81c4e-3538-413d-bb1c-f06208f2e3ef","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-13","start_time":"","text":"read fountainhead","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"3ff7b881-3a73-4770-a1e6-24aa2b86c361","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-13","start_time":"","text":"manual task A","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"21e53aad-44a7-4497-a677-01966a633a57","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":1,"start_date":"2025-08-14","start_time":"","text":"gym","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"d98b49c4-ce8c-42f4-8a90-d7cd5b6569f1","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-14","start_time":"","text":"read fountainhead","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"93dbd00f-a0cb-4057-bc90-3c49a027ae89","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-14","start_time":"","text":"manual task A","type":"task"},{"categories":[],"completed":true,"id":"8c74ef64-6025-43f8-84c4-7a0704f64923","is_microstep":false,"is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"slack_metadata":{"channel_id":"C099GE54JA2","channel_name":"Unknown Channel","deep_link":"slack://channel?team=T099GE4RBE2&id=C099GE54JA2&message=1755160112.669789","event_ts":"1755160112.669789","message_url":"https://yourmum.slack.com/archives/C099GE54JA2/p1755160112669789","original_text":"<@U099GE4SF8W> book haircut","sender_id":"U099GE4SF8W","sender_name":"Unknown User","thread_ts":null,"workspace_id":"T099GE4RBE2","workspace_name":"YourMum"},"source":"slack","start_date":null,"text":"book haircut","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"1ae7a499-ccf1-4d24-8079-ce4645f690c5","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":1,"start_date":"2025-08-15","start_time":"","text":"gym","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"c816482b-c093-4aa0-af21-8d51066f7fff","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-15","start_time":"","text":"read fountainhead","type":"task"}],"sourceFound":true,"success":true}


# Bug #2 - Status: Done ✅
I am facing a bug where the autogenerate() function is not carrying over incomplete synced google calendar events from recently soruced schedule

# Steps to reproduce:
1. as a signed in user, go to /dashboard for the first time today
2. autogenerate() is called
3. bug: observe incomplete synced google calendar events not showing on today's schedule
4. click right chevron arrow
5. bug: observe incomplete synced google calendar events from today not showing on tomorrow's schedule

# Expected behaviour:
- autogenerate should carry over incomplete synced google calendar events for today and tomorrow
- autogenerate should show incomplete google calendar and manual and slack tasks from recent schedule, and tasks recurring on the provided date (today or next day)

# Bug #3 - Status: Done ✅
I am facing a bug where the autogenerate() function is duplicating incomplete recurring tasks when generating the next day schedule

# Steps to reproduce:
1. as a signed in user, go to /dashboard for the first time today
2. autogenerate() is called
3. see generated schedule for today
4. click right chevron arrow
5. bug: observe incomplete task recurring on the next day being duplicated

# Expected behaviour:
- autogenerate should not duplicate recurring tasks if they were incomplete when generating next day schedule

# Current autogenerate response:
{"created":true,"date":"2025-08-16","existed":false,"metadata":{"calendarEvents":4,"generatedAt":"2025-08-15T02:31:06.648219+00:00","lastModified":"2025-08-15T02:31:06.648239+00:00","recurringTasks":3,"source":"manual","totalTasks":7},"schedule":[{"categories":[],"completed":false,"end_time":"11:00","from_gcal":true,"gcal_event_id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-16","start_time":"08:00","text":"\ud83c\udfc3\u200d\u2642\ufe0fParkrun","type":"task"},{"categories":[],"completed":false,"end_time":"15:00","from_gcal":true,"gcal_event_id":"2qmm0chdup5aaku0vp8h4ktjj8_20250816T033000Z","id":"2qmm0chdup5aaku0vp8h4ktjj8_20250816T033000Z","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-16","start_time":"13:30","text":"\ud83c\udfcb\ufe0fgym push v2","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"31a982e6-a2bb-481e-81b8-e65f55fd213f","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-15","start_time":"","text":"read fountainhead","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"90aeeee8-7af2-4232-9483-bd559162ebaa","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":1,"start_date":"2025-08-16","start_time":"","text":"gym","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"e4eabab0-f1da-4e6c-84aa-ee42244f5aa9","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-16","start_time":"","text":"read fountainhead","type":"task"},{"categories":[],"completed":false,"end_time":"18:30","from_gcal":true,"gcal_event_id":"2oaa6k1uhi8fk1uqr2gka01t2h","id":"1545f484-33bb-4980-80ae-aff276435482","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-16","start_time":"17:30","text":"haircut","type":"task"},{"categories":[],"completed":false,"end_time":"19:00","from_gcal":true,"gcal_event_id":"4b02qocptl3cotqe8lvfnbi9d4","id":"6708d0e4-b555-405d-901c-a90eb4dbc761","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-16","start_time":"18:00","text":"fix sim card","type":"task"}],"sourceFound":true,"success":true}

# Bug #4 - Status: To do 
I am facing a bug where the event_bus for handling google calendar events is inconsistent.

# Steps to reproduce:
1. as a signed in user, go to /dashboard for the first time today
2. autogenerate() is called
3. see generated schedule for today
4. go to google calendar and add a new event "Task X"
5. bug: "Task X" does not render in real time unless i refresh the page
6. go to @inputsconfig and click "Save" to generate a schedule with sections
7. go to google calendar and add a new event "Task Y"
8. "Task X" and "Task Y" now appear at the top of the list but also mvoed the position of all today's synced google calendar task

# Expected behaviour:
- syncing of google calendar events for today should be real time regardless of whether list has sections or not
- should not have to manually refresh/reload the page to see synced tasks
- for any synced google calendar tasks for today, preserve their most recent positon in the list so they are not grouped together with the calendar event added in real time

# Resposne after new google calendar event is added with current schedule containing sections:
https://yourdai-production.up.railway.app/api/schedules/2025-08-15: {"date":"2025-08-15","inputs":{"energy_patterns":["peak_morning"],"layout_preference":{"layout":"todolist-structured","orderingPattern":"batching","subcategory":"day-sections"},"name":"","priorities":{"ambitions":"2","fun_activities":"4","health":"1","relationships":"3"},"tasks":[{"categories":[],"completed":true,"end_time":"10:20","from_gcal":true,"gcal_event_id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"10:00","text":"Interview at Driva","type":"task"},{"categories":[],"completed":true,"end_time":"13:30","from_gcal":true,"gcal_event_id":"0jqqkkkl1376pas8deeg43r41i","id":"0jqqkkkl1376pas8deeg43r41i","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"12:30","text":"test ","type":"task"},{"categories":[],"completed":false,"end_time":"18:30","from_gcal":true,"gcal_event_id":"2oaa6k1uhi8fk1uqr2gka01t2h","id":"2oaa6k1uhi8fk1uqr2gka01t2h","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"17:30","text":"haircut","type":"task"},{"categories":[],"completed":false,"end_time":"","id":"77a37907-93aa-4966-baf7-c280000d8e33","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":1,"start_date":"2025-08-15","start_time":"","text":"gym","type":"task"},{"categories":[],"completed":true,"end_time":"","id":"4a0545b8-0a5b-4e98-9890-5a9fd0089090","is_recurring":{"dayOfWeek":"Monday","frequency":"daily"},"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":2,"start_date":"2025-08-15","start_time":"","text":"read fountainhead","type":"task"},{"categories":[],"completed":true,"end_time":"13:00","from_gcal":true,"gcal_event_id":"18pnhar3od4iiuckulghrqshlm","id":"c06dae01-14c1-4f42-b331-d44423a2e8bc","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"12:00","text":"cold reach","type":"task"},{"categories":[],"completed":false,"end_time":"19:00","from_gcal":true,"gcal_event_id":"4b02qocptl3cotqe8lvfnbi9d4","id":"ee0810a4-2e9d-471b-8f12-ca1b849c5dc3","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"18:00","text":"fix sim card","type":"task"},{"categories":[],"completed":false,"end_time":"11:00","from_gcal":true,"gcal_event_id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"08:00","text":"\ud83c\udfc3\u200d\u2642\ufe0fParkrun","type":"task"},{"categories":[],"completed":false,"end_time":"15:00","from_gcal":true,"gcal_event_id":"0mcrsgolgcqb97nkffkkv86uq4","id":"0mcrsgolgcqb97nkffkkv86uq4","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"14:00","text":"test2","type":"task"},{"categories":[],"completed":false,"end_time":"16:30","from_gcal":true,"gcal_event_id":"6mioeq25h3lblcur4lln6q34se","id":"6mioeq25h3lblcur4lln6q34se","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"15:30","text":"test3","type":"task"}],"work_end_time":"","work_start_time":"","working_days":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},"metadata":{"calendarEvents":5,"generatedAt":"2025-08-15T04:15:42.894586+00:00","lastModified":"2025-08-15T04:16:01.784514+00:00","recurringTasks":0,"source":"calendar_sync","totalTasks":11},"schedule":[{"categories":[],"completed":false,"end_time":"11:00","from_gcal":true,"gcal_event_id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","id":"6asjk4j70u0idrh1557i0idu2g_20250815T220000Z","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"08:00","text":"\ud83c\udfc3\u200d\u2642\ufe0fParkrun","type":"task"},{"categories":[],"completed":false,"end_time":"10:20","from_gcal":true,"gcal_event_id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","id":"_6os3ioj66hj3ccph68r68p9h6lgm6c1m60p34e1b6kpj0db665ij0opi6hi6adhl6pim2dj181kmstj9ehiisoridtn6upjp5phmur8","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"10:00","text":"Interview at Driva","type":"task"},{"categories":[],"completed":false,"end_time":"13:30","from_gcal":true,"gcal_event_id":"0jqqkkkl1376pas8deeg43r41i","id":"0jqqkkkl1376pas8deeg43r41i","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"12:30","text":"test ","type":"task"},{"categories":[],"completed":false,"end_time":"15:30","from_gcal":true,"gcal_event_id":"4ef9hf5kjg859o35ckae0j7niq","id":"4ef9hf5kjg859o35ckae0j7niq","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"14:30","text":"test4","type":"task"},{"categories":[],"completed":false,"end_time":"18:30","from_gcal":true,"gcal_event_id":"2oaa6k1uhi8fk1uqr2gka01t2h","id":"2oaa6k1uhi8fk1uqr2gka01t2h","is_recurring":null,"is_section":false,"is_subtask":false,"level":0,"parent_id":null,"section":null,"section_index":0,"start_date":"2025-08-15","start_time":"17:30","text":"haircut","type":"task"},{"categories":[],"completed":false,"id":"5efb1f59-f246-4040-a452-785546fbfc32","is_section":true,"level":0,"parent_id":null,"section":null,"text":"Morning","type":"section"},{"categories":["Exercise"],"completed":false,"id":"77a37907-93aa-4966-baf7-c280000d8e33","is_section":false,"level":0,"parent_id":null,"section":"Morning","text":"gym","type":"task"},{"categories":["Fun"],"completed":false,"id":"ee0810a4-2e9d-471b-8f12-ca1b849c5dc3","is_section":false,"level":0,"parent_id":null,"section":"Morning","text":"fix sim card","type":"task"},{"categories":[],"completed":false,"id":"6mioeq25h3lblcur4lln6q34se","is_section":false,"level":0,"parent_id":null,"section":"Morning","text":"test3","type":"task"},{"categories":[],"completed":false,"id":"2ae7924f-e897-40ed-a230-58b8d6ace395","is_section":true,"level":0,"parent_id":null,"section":null,"text":"Afternoon","type":"section"},{"categories":["Ambition","Fun"],"completed":true,"id":"4a0545b8-0a5b-4e98-9890-5a9fd0089090","is_section":false,"level":0,"parent_id":null,"section":"Afternoon","text":"read fountainhead","type":"task"},{"categories":[],"completed":false,"id":"ef8aa742-84fc-4061-8809-b0424924feaf","is_section":true,"level":0,"parent_id":null,"section":null,"text":"Evening","type":"section"},{"categories":["Work"],"completed":true,"id":"c06dae01-14c1-4f42-b331-d44423a2e8bc","is_section":false,"level":0,"parent_id":null,"section":"Evening","text":"cold reach","type":"task"},{"categories":[],"completed":false,"id":"0mcrsgolgcqb97nkffkkv86uq4","is_section":false,"level":0,"parent_id":null,"section":"Evening","text":"test2","type":"task"}],"success":true}
